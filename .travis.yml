language: python
python:
  - "3.8"

services: mysql
env:

  - DJANGO=3.0.5 DJANGO_SETTINGS_MODULE="demacian_justice.settings"
install:
  - pip install -q Django==$DJANGO
  - pip install pep8
  - pip install mysqlclient

before_script:
  - mysql -e 'create database demacian_justice;'
  - python manage.py syncdb --noinput
script:
  - python manage.py test
